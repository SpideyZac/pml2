[{"filePath":"index.html","action":"modify","patchText":"@@ -14,16 +14,26 @@\n l%3E%0A%3Chtml\n+ lang=%22en%22\n %3E%0A    %3Ch\n@@ -65,24 +65,66 @@\n t=%22utf-8%22 /%3E\n+%0A%0A        %3C!-- Preload critical assets --%3E\n %0A        %3Cli\n@@ -568,32 +568,67 @@\n +xml%22%0A        /%3E\n+%0A%0A        %3C!-- Web app manifest --%3E\n %0A        %3Clink r\n@@ -664,16 +664,71 @@\n json%22 /%3E\n+%0A%0A        %3C!-- Viewport settings for mobile devices --%3E\n %0A       \n@@ -802,16 +802,17 @@\n e-width,\n+ \n initial-\n@@ -819,16 +819,17 @@\n scale=1,\n+ \n minimum-\n@@ -836,16 +836,17 @@\n scale=1,\n+ \n maximum-\n@@ -853,16 +853,17 @@\n scale=1,\n+ \n viewport\n@@ -873,16 +873,17 @@\n t=cover,\n+ \n user-sca\n@@ -895,32 +895,33 @@\n =no%22%0A        /%3E%0A\n+%0A\n         %3Cscript \n@@ -917,119 +917,2612 @@\n    %3C\n-script defer=%22defer%22 src=%22error_screen.bundle.js%22%3E%3C/script%3E%0A        %3Cscript defer=%22defer%22 src=%22main.bundle.js%22%3E\n+!-- Initialization script --%3E%0A        %3Cscript id=%22init%22%3E%0A            /**%0A             * Registers the service worker and sends the virtual file system (vfs) once ready.%0A             */%0A            window.addEventListener(%22load%22, () =%3E %7B%0A                if (%22serviceWorker%22 in navigator) %7B%0A                    navigator.serviceWorker%0A                        .register(%22/sw.js%22, %7B scope: %22/%22 %7D)%0A                        .then((registration) =%3E %7B%0A                            console.log(%0A                                %22ServiceWorker registration successful with scope:%22,%0A                                registration.scope%0A                            );%0A                        %7D)%0A                        .catch((error) =%3E %7B%0A                            console.error(%0A                                %22ServiceWorker registration failed:%22,%0A                                error%0A                            );%0A                        %7D);%0A%0A                    navigator.serviceWorker.ready.then((registration) =%3E %7B%0A                        if (!registration.active) %7B%0A                            console.warn(%22ServiceWorker is not active yet.%22);%0A                        %7D%0A                        console.log(%22ServiceWorker is ready:%22, registration);%0A%0A                        // Send the VFS files to the service worker for caching or serving%0A                        if (window.vfs && window.vfs.files) %7B%0A                            registration.active.postMessage(%7B%0A                                vfs: window.vfs.files,%0A                                type: %22vfs%22,%0A                            %7D);%0A                        %7D else %7B%0A                            console.warn(%0A                                %22VFS not available to send to ServiceWorker.%22%0A                            );%0A                        %7D%0A                    %7D);%0A                %7D%0A            %7D);%0A%0A            // If document is already loaded, manually dispatch 'load' event%0A            if (document.readyState === %22complete%22) %7B%0A                window.dispatchEvent(new Event(%22load%22));%0A            %7D%0A%0A            /**%0A             * Dynamically add a deferred script to the document head.%0A             * @param %7Bstring%7D src - Script source URL.%0A             */%0A            function addScript(src) %7B%0A                const script = document.createElement(%22script%22);%0A                script.src = src;%0A                script.defer = true;%0A                document.head.appendChild(script);%0A            %7D%0A%0A            // Load main application scripts%0A            addScript(%22main.bundle.js%22);%0A            addScript(%22error_screen.bundle.js%22);%0A        \n %3C/sc\n@@ -3535,24 +3535,25 @@\n     %3C/head%3E%0A\n+%0A\n     %3Cbody%3E%0A \n","fileType":"text"}]